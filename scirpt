--// Hub GUI Script
-- Place this in a LocalScript inside StarterPlayerScripts

-- Create ScreenGui
local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "RoleHub"
gui.Parent = player:WaitForChild("PlayerGui")

-- Create main frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 150)
frame.Position = UDim2.new(0, 20, 0, 100)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui

-- Utility function to make buttons
local function makeButton(name, posY, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -20, 0, 30)
    btn.Position = UDim2.new(0, 10, 0, posY)
    btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Text = name
    btn.Parent = frame
    btn.MouseButton1Click:Connect(callback)
end

-- ESP function
local function applyESP(color)
    for _, plr in pairs(game.Players:GetPlayers()) do
        if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local hrp = plr.Character.HumanoidRootPart
            if not hrp:FindFirstChild("ESPHighlight") then
                local highlight = Instance.new("Highlight")
                highlight.Name = "ESPHighlight"
                highlight.FillColor = color
                highlight.OutlineColor = color
                highlight.Parent = hrp
            else
                hrp.ESPHighlight.FillColor = color
                hrp.ESPHighlight.OutlineColor = color
            end
        end
    end
end

-- Noclip toggle
local noclipEnabled = false
local RunService = game:GetService("RunService")

local function toggleNoclip()
    noclipEnabled = not noclipEnabled
end

RunService.Stepped:Connect(function()
    if noclipEnabled and player.Character then
        for _, part in pairs(player.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

-- Buttons
makeButton("ESP Imposter (Red)", 10, function() applyESP(Color3.fromRGB(255, 0, 0)) end)
makeButton("ESP Neutral (White)", 50, function() applyESP(Color3.fromRGB(255, 255, 255)) end)
makeButton("ESP Crewmate (Green)", 90, function() applyESP(Color3.fromRGB(0, 255, 0)) end)
makeButton("Toggle Noclip", 130, toggleNoclip)
